{% extends "base.html" %}

{% load static %}

{% block title %}
<title>Booking Page</title>
{% endblock %}

{% block style %}
<link rel="stylesheet" href="{% static 'css/style.css' %}">
<style>

.booking-container {
    background: #fff;
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 0 20px rgba(0,0,0,0.1);
    width: 400px;
    margin: 50px auto;
    text-align: center;
}

.form-box h2 {
    font-size: 24px;
    color: #333;
    margin-bottom: 15px;
}

form {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

form label {
    font-weight: bold;
    color: #444;
}

form input[type="number"] {
    padding: 10px;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-size: 16px;
}

.booking_btn {
    background-color: #8b3535;
    color: white;
    padding: 10px 20px;
    font-size: 16px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.3s ease;
}

.booking_btn:hover {
    background-color: #e64a19;
}
</style>
{% endblock %}

{% block content %}
<div class="booking-container">
    <div class="form-box">
        <h2>Booking for {{ movie.title }}</h2>

        <img src="{{ movie.poster.url }}" width="200" alt="{{ movie.title }}" style="margin: 20px 0; border-radius: 10px;">

        <form method="post">
        {% csrf_token %}

        <label for="seats">Number of Seats:</label>
        <input type="number" id="seats" name="seats" min="1" max="10" required>

        <button type="submit" class="booking_btn">Confirm Booking </button>
        </form>
    </div><br><br>
    <a href="{% url 'movie-list' %}" class="btn back-link">&larr; Back to Movies List</a>
</div>

{% if booking_id and booking_total %}
<script>
    alert("Your reservation has been successful! Your reservation number is: {{ booking_id }}. Keep this number to pay upon arrival at the cinema. The total is: {{ booking_total }}.");
</script>
{% endif %}

{% endblock %}
